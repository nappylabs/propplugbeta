import{j as e,g as Y,a as G,i as H,b as z,c as K,d as Z,s as q,e as E,f as J,r as N,R as Q,o as X,h as ee,k as te,G as se,l as ne,m as ae,n as re,p as oe}from"./index.js";const h=({label:n,value:a,onChange:r,type:o="number",prefix:c,suffix:m,placeholder:g,className:i=""})=>e.jsxs("div",{className:`flex flex-col ${i}`,children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1.5 ml-1",children:n}),e.jsxs("div",{className:"relative flex items-center group",children:[c&&e.jsx("span",{className:"absolute left-3.5 text-gray-400 text-sm font-medium",children:c}),e.jsx("input",{type:o,placeholder:g,value:a,onChange:s=>r(s.target.value),onFocus:s=>s.target.select(),className:`w-full bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-900 rounded-xl py-2.5 text-sm font-semibold focus:ring-2 focus:ring-prop-500 focus:border-prop-500 focus:bg-white outline-none transition-all
          ${c?"pl-8":"pl-4"} 
          ${m?"pr-9":"pr-4"}
        `}),m&&e.jsx("span",{className:"absolute right-3.5 text-gray-400 text-xs font-bold",children:m})]})]}),j=({label:n,value:a,subtext:r,status:o="neutral",isEmphasized:c=!1,onClick:m,icon:g})=>{const s=`
    relative overflow-hidden p-4 rounded-xl border transition-all duration-200
    ${(x=>{switch(x){case"green":return"bg-emerald-50/50 border-emerald-100 text-emerald-700";case"amber":return"bg-amber-50/50 border-amber-100 text-amber-700";case"red":return"bg-rose-50/50 border-rose-100 text-rose-700";case"purple":return"bg-prop-50 border-prop-100 text-prop-700";default:return"bg-white border-gray-100 text-gray-600 shadow-sm"}})(o)}
    ${m?"cursor-pointer hover:shadow-md hover:scale-[1.01] active:scale-[0.99]":""}
    ${c?"ring-1 ring-offset-1 ring-prop-100":""}
  `;return e.jsxs("div",{onClick:m,className:s,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-60 mb-0.5",children:n}),e.jsx("span",{className:`leading-none ${c?"text-2xl font-black":"text-lg font-bold"}`,children:a})]}),m&&e.jsx("div",{className:"bg-white/50 p-1.5 rounded-full text-current opacity-60 hover:opacity-100",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[e.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),e.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25-1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})})]}),r&&e.jsx("div",{className:"text-xs mt-1.5 opacity-80 font-medium flex items-center gap-1",children:r})]})},le=({isOpen:n,onClose:a,title:r,children:o})=>n?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm animate-fade-in",onClick:a}),e.jsxs("div",{className:"relative w-full bg-white rounded-t-2xl shadow-2xl animate-slide-up flex flex-col max-h-[85vh]",children:[e.jsx("div",{className:"w-full flex justify-center pt-3 pb-1",onClick:a,children:e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full cursor-pointer hover:bg-gray-400 transition-colors"})}),e.jsxs("div",{className:"px-6 pb-4 border-b border-gray-100 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold text-prop-900",children:r}),e.jsx("button",{onClick:a,className:"text-xs font-semibold text-gray-400 hover:text-gray-600 bg-gray-100 px-2 py-1 rounded-md",children:"Done"})]}),e.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-4",children:o})]})]}):null,T={BOND_INTEREST_RATE:10.25,BOND_TERM_YEARS:20,CLOSING_COSTS_PERCENT:.03},U=(n,a,r)=>{if(n<=0)return 0;const o=a/100/12,c=r*12;if(o===0)return n/c;const m=o*Math.pow(1+o,c),g=Math.pow(1+o,c)-1;return n*(m/g)},ie=n=>{const{purchasePrice:a,monthlyRent:r,depositPercent:o=0,interestRate:c=T.BOND_INTEREST_RATE,termYears:m=T.BOND_TERM_YEARS,levies:g=0,rates:i=0,insurance:s=0,includeMaintenance:x=!0,maintenancePercentRent:v=5,includeVacancy:b=!0,vacancyPercent:l=0,includeManagement:S=!0,managementPercent:I=0}=n,p=a*T.CLOSING_COSTS_PERCENT,w=a*(o/100),P=a-w,y=w+p,C=U(P,c,m),R=x?r*(v/100):0,d=b?r*(l/100):0,M=S?r*(I/100):0,_=C+g+i+s+R+d+M,O=r-_,L=r*12,B=a>0?L/a*100:0;return{bondPayment:C,closingCosts:p,totalEquityRequired:y,totalMonthlyExpenses:_,netCashflow:O,grossYield:B,breakdown:{maintenance:R,vacancy:d,management:M}}},ce=n=>{const{purchasePrice:a=0,depositPercent:r=0,interestRate:o=0,termYears:c=0,levies:m=0,rates:g=0,insurance:i=0,utilities:s=0,monthlyIncome:x=0,maintenancePercentValue:v=1,includeMaintenance:b=!0}=n,l=a*(r/100)||0,S=a-l||0,I=U(S,o,c)||0,p=b&&a*(v/100)/12||0,w=I+m+g+i+p||0,P=w+s||0;let y=0,C=0;return x>0&&(y=w/x*100,C=x-P),{bondPayment:I,totalHousingCost:w,totalMonthlyOutflow:P,housingCostRatio:y,disposableAfterHousing:C,maintenance:p}},de=n=>{const{monthlyRent:a,monthlyIncome:r,utilities:o=0,transport:c=0,groceries:m=0,otherEssentials:g=0}=n,i=o+c+m+g,s=a+i;let x=0,v=0;return r>0&&(x=a/r*100,v=r-s),{rentToIncomeRatio:x,totalEssentials:i,totalCostOfLiving:s,disposableIncome:v}},W={apiKey:"AIzaSyBHj3B4_Ak9atlnyhjHpr8WhebIWFrf9tE",authDomain:"propplug.firebaseapp.com",projectId:"propplug",storageBucket:"propplug.firebasestorage.app",messagingSenderId:"569005353945",appId:"1:569005353945:web:8643c6d811dab3ca8007c8",measurementId:"G-WTEKW59GFE"};W.apiKey||console.error("CRITICAL: Firebase API Key is missing/undefined. Check your .env file variable names.");let $;try{Y().length>0?$=G():$=H(W)}catch(n){throw console.error("!!! FIREBASE INITIALIZATION FAILED !!!",n),new Error(`Firebase initialization failed. This almost always means your config values (API key, auth domain, etc.) are incorrect. Please check them in your .env file and in the Firebase console. The original error was: ${n.message}`)}const A=z($),ue=K($),me=async(n,a)=>{try{if(!n)return;const r=new URL(n).hostname,o=Z(ue,"site_stats",r),c=a==="failed",m=a==="unsupported";await q(o,{hostname:r,lastAccessed:J(),accessCount:E(1),failureCount:c?E(1):E(0),unsupportedCount:m?E(1):E(0)},{merge:!0})}catch(r){console.error("Tracking error:",r)}},xe=({variant:n="full",size:a="md"})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`relative ${a==="sm"?"w-8 h-8":"w-10 h-10"} bg-prop-dark rounded-xl flex items-center justify-center overflow-hidden shadow-lg shadow-prop-purple/20`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-prop-purple to-transparent opacity-40"}),e.jsx("span",{className:`text-white font-black ${a==="sm"?"text-lg":"text-xl"} z-10`,children:"P"}),e.jsx("div",{className:"absolute bottom-1.5 right-1.5 w-1.5 h-1.5 bg-prop-purple rounded-full animate-pulse"})]}),n==="full"&&e.jsx("span",{className:`text-prop-dark font-black ${a==="sm"?"text-xl":"text-2xl"} tracking-tighter`,children:"PropPlug"})]}),pe="https://propplugbeta-e39i-4l9thsc4c-darrol-9949s-projects.vercel.app/",he={ZAR:"R",KES:"KSh",USD:"$"},ge=[{id:"investor",label:"Investor"},{id:"owner",label:"Owner"},{id:"tenant",label:"Tenant"}],f=n=>{if(n==null||isNaN(n))return"0";const a=Math.abs(n),r=n<0;let o;return a>=1e6?o=(a/1e6).toFixed(2)+"m":a>=1e3?o=(a/1e3).toFixed(1).replace(/\.0$/,"")+"k":o=Math.round(a).toString(),r?`(${o})`:o},D={askingPrice:"",discountOnAsking:"0",monthlyRent:"",levies:"",rates:"",depositPercent:"0",interestRate:"11.75",termYears:T.BOND_TERM_YEARS.toString(),monthlyIncome:"",utilities:"",insurance:"",includeMaintenance:!0,maintenancePercentRent:"5",maintenancePercentValue:"1",includeVacancy:!0,vacancyPercent:"5",includeManagement:!0,managementPercent:"8",transport:"",groceries:"",otherEssentials:"",assumedPurchasePrice:"",address:"",url:"",currency:"ZAR"};function be(){const[n,a]=N.useState("investor"),[r,o]=N.useState(!1),[c,m]=N.useState(""),[g,i]=N.useState(null),[s,x]=N.useState(D),v=c.includes("property24.com")||c.includes("buyrentkenya.com"),b=async()=>{o(!0);try{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});t!=null&&t.id?chrome.tabs.sendMessage(t.id,{type:"GET_PAGE_DATA"},u=>{if(chrome.runtime.lastError){console.log("Scraper not available on this page."),me(t.url,"unsupported");return}u&&u.success&&x(k=>({...k,askingPrice:u.data.price||"",assumedPurchasePrice:u.data.price||"",levies:u.data.levies||"",rates:u.data.rates||"",monthlyRent:u.data.rent||"",address:u.data.address||k.address,url:t.url})),o(!1)}):o(!1)}catch(t){console.error("Connection error",t),o(!1)}};N.useEffect(()=>{chrome.tabs.query({active:!0,currentWindow:!0},t=>{var k;const u=((k=t[0])==null?void 0:k.url)||"";m(u)})},[]);const l=(t,u)=>{x(k=>({...k,[t]:u}))},S=()=>{x(D)},I=()=>{const t={...s,currency:s.currency,type:n,timestamp:new Date().toISOString(),source:"Extension"};try{const u=JSON.stringify(t),k=btoa(unescape(encodeURIComponent(u))),V=encodeURIComponent(k),F=`${pe}login?data=${V}`;console.log("Opening URL:",F),window.open(F,"_blank")}catch(u){console.error("Encoding failed",u),alert("Failed to process deal data. Please try again.")}},p=t=>{if(t===""||t===void 0||t===null)return 0;const u=Number(t);return isNaN(u)?0:u},w=p(s.askingPrice)*(1-p(s.discountOnAsking)/100),P={...s,purchasePrice:w,askingPrice:p(s.askingPrice),monthlyRent:p(s.monthlyRent),levies:p(s.levies),rates:p(s.rates),monthlyIncome:p(s.monthlyIncome),utilities:p(s.utilities),insurance:p(s.insurance),transport:p(s.transport),groceries:p(s.groceries),otherEssentials:p(s.otherEssentials)},y=ie(P),C=ce(P),R=de(P),d=he[s.currency]||"R",M=()=>{switch(g){case"purchase_price":return e.jsxs(e.Fragment,{children:[e.jsx(h,{label:"Asking Price",value:s.askingPrice,onChange:t=>l("askingPrice",t),prefix:d}),e.jsx(h,{label:"Discount %",value:s.discountOnAsking,onChange:t=>l("discountOnAsking",t),suffix:"%"})]});case"bond_cost":return e.jsxs(e.Fragment,{children:[e.jsx(h,{label:"Asking Price",value:s.askingPrice,onChange:t=>l("askingPrice",t),prefix:d}),e.jsx(h,{label:"Discount %",value:s.discountOnAsking,onChange:t=>l("discountOnAsking",t),suffix:"%"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(h,{label:"Deposit %",value:s.depositPercent,onChange:t=>l("depositPercent",t),suffix:"%"}),e.jsx(h,{label:"Loan Term (Years)",value:s.termYears,onChange:t=>l("termYears",t)})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-xs text-blue-700",children:["Monthly Bond Cost: ",e.jsxs("strong",{children:[d," ",f(y.bondPayment)]})]})]});case"expenses":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(h,{label:"Levies",value:s.levies,onChange:t=>l("levies",t),prefix:d}),e.jsx(h,{label:"Rates & Taxes",value:s.rates,onChange:t=>l("rates",t),prefix:d})]}),e.jsx(h,{label:"Insurance",value:s.insurance,onChange:t=>l("insurance",t),prefix:d}),e.jsxs("div",{className:"border-t pt-3 mt-2",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-3",children:"Provisions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{label:n==="owner"?"Maintenance % (of Value)":"Maintenance % (of Rent)",value:n==="owner"?s.maintenancePercentValue:s.maintenancePercentRent,onChange:t=>l(n==="owner"?"maintenancePercentValue":"maintenancePercentRent",t),suffix:"%",className:"flex-grow"}),e.jsx("div",{className:"pt-5",children:e.jsx("input",{type:"checkbox",checked:s.includeMaintenance,onChange:t=>x(u=>({...u,includeMaintenance:t.target.checked})),className:"w-5 h-5 text-prop-600 rounded"})})]}),n!=="owner"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{label:"Management %",value:s.managementPercent,onChange:t=>l("managementPercent",t),suffix:"%",className:"flex-grow"}),e.jsx("div",{className:"pt-5",children:e.jsx("input",{type:"checkbox",checked:s.includeManagement,onChange:t=>x(u=>({...u,includeManagement:t.target.checked})),className:"w-5 h-5 text-prop-600 rounded"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{label:"Vacancy %",value:s.vacancyPercent,onChange:t=>l("vacancyPercent",t),suffix:"%",className:"flex-grow"}),e.jsx("div",{className:"pt-5",children:e.jsx("input",{type:"checkbox",checked:s.includeVacancy,onChange:t=>x(u=>({...u,includeVacancy:t.target.checked})),className:"w-5 h-5 text-prop-600 rounded"})})]})]})]})]})]});case"rental_income":return e.jsx(h,{label:n==="tenant"?"Monthly Rent Expense":"Monthly Rent",value:s.monthlyRent,onChange:t=>l("monthlyRent",t),prefix:d});case"personal_income":return e.jsx(h,{label:"Your Monthly Income",value:s.monthlyIncome,onChange:t=>l("monthlyIncome",t),prefix:d});case"living_expenses":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(h,{label:"Utilities",value:s.utilities,onChange:t=>l("utilities",t),prefix:d}),e.jsx(h,{label:"Transport",value:s.transport,onChange:t=>l("transport",t),prefix:d})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(h,{label:"Groceries",value:s.groceries,onChange:t=>l("groceries",t),prefix:d}),e.jsx(h,{label:"Other",value:s.otherEssentials,onChange:t=>l("otherEssentials",t),prefix:d})]})]});default:return null}},_=()=>{switch(g){case"purchase_price":return"Purchase Price";case"bond_cost":return"Bond Cost";case"expenses":return"Monthly Expenses";case"rental_income":return"Rental Income";case"personal_income":return"Personal Income";case"living_expenses":return"Living Costs";default:return""}},O=()=>{const t=y.netCashflow>=0?"green":"red";return e.jsxs("div",{className:"space-y-3 animate-fade-in",children:[e.jsx(j,{label:"Net Cashflow",value:`${d} ${f(y.netCashflow)}`,status:t,subtext:y.netCashflow<0?"Shortfall per month":"Positive income"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(j,{label:"Gross Yield",value:`${(y.grossYield||0).toFixed(1)}%`,status:"purple"}),e.jsx(j,{label:"Bond Cost",value:`${d} ${f(y.bondPayment)}`,status:"neutral",onClick:()=>i("bond_cost")})]}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 divide-y divide-gray-100",children:[e.jsxs("div",{onClick:()=>i("purchase_price"),className:"p-3 flex justify-between items-center hover:bg-gray-50 cursor-pointer",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Purchase Price"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[d," ",f(w)]})]}),e.jsxs("div",{onClick:()=>i("expenses"),className:"p-3 flex justify-between items-center hover:bg-gray-50 cursor-pointer",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Expenses (w/bond costs)"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[d," ",f(y.totalMonthlyExpenses)]})]}),e.jsxs("div",{onClick:()=>i("rental_income"),className:"p-3 flex justify-between items-center hover:bg-gray-50 cursor-pointer",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rental Income"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[d," ",f(s.monthlyRent)]})]})]})})]})},L=()=>e.jsxs("div",{className:"space-y-3 animate-fade-in",children:[e.jsx(j,{label:"Total Housing Cost",value:`${d} ${f(C.totalHousingCost)}`,subtext:"Bond + Levies + Rates + Insurance",onClick:()=>i("expenses")}),s.monthlyIncome>0?e.jsx(j,{label:"Housing Ratio",value:`${(C.housingCostRatio||0).toFixed(1)}%`,status:(C.housingCostRatio||0)<30?"green":"amber",subtext:"of your income",onClick:()=>i("personal_income")}):e.jsx("div",{onClick:()=>i("personal_income"),className:"p-4 border border-dashed border-gray-300 rounded-xl text-center cursor-pointer hover:bg-gray-50",children:e.jsx("span",{className:"text-sm text-prop-600 font-semibold",children:"+ Add Income to see Affordability"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[e.jsx(j,{label:"Purchase Price",value:`${d} ${f(w)}`,onClick:()=>i("purchase_price")}),e.jsx(j,{label:"Bond Cost",value:`${d} ${f(C.bondPayment)}`,status:"neutral",onClick:()=>i("bond_cost")})]})]}),B=()=>e.jsxs("div",{className:"space-y-3 animate-fade-in",children:[e.jsx(j,{label:"Rent to Income",value:`${(R.rentToIncomeRatio||0).toFixed(1)}%`,status:(R.rentToIncomeRatio||0)<30?"green":"amber",subtext:"Affordability"}),e.jsx(j,{label:"Disposable Income",value:`${d} ${f(R.disposableIncome)}`,subtext:"After rent & essentials",status:R.disposableIncome>0?"green":"red"}),e.jsx(j,{label:"Living Costs",value:` ${f(R.totalEssentials)}`,subtext:"Utilities + Transport + Other",onClick:()=>i("living_expenses")}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[e.jsx(j,{label:"Rent Expense",value:`${d} ${f(s.monthlyRent)}`,onClick:()=>i("rental_income")}),e.jsx(j,{label:"Income",value:`${d} ${f(s.monthlyIncome)}`,onClick:()=>i("personal_income")})]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-white border-b border-gray-200",children:[e.jsx("div",{className:"h-8 flex items-center justify-center text-slate-900",children:e.jsx(xe,{})}),e.jsx("div",{className:"relative ml-auto",children:e.jsxs("select",{value:s.currency,onChange:t=>l("currency",t.target.value),className:"bg-gray-100 border-gray-200 rounded-lg px-2 py-1 text-xs font-bold text-gray-600 appearance-none focus:outline-none focus:ring-2 focus:ring-prop-500",children:[e.jsx("option",{value:"ZAR",children:"ZAR"}),e.jsx("option",{value:"KES",children:"KES"}),e.jsx("option",{value:"USD",children:"USD"})]})})]}),e.jsx("div",{className:"px-4 py-4",children:e.jsx("div",{className:"flex bg-gray-200/60 p-1 rounded-xl",children:ge.map(t=>e.jsx("button",{onClick:()=>a(t.id),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all duration-200 ${n===t.id?"bg-white text-prop-700 shadow-sm transform scale-[1.02]":"text-gray-500 hover:text-gray-700"}`,children:t.label},t.id))})}),e.jsxs("div",{className:"flex-grow px-4 pb-20",children:[n==="investor"&&O(),n==="owner"&&L(),n==="tenant"&&B()]}),e.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-100 p-4 flex gap-3 z-20",children:[e.jsx("button",{onClick:S,className:"px-4 py-2.5 rounded-xl border border-gray-200 text-gray-500 text-sm font-semibold hover:bg-gray-50",title:"Clear Inputs",children:"Clear"}),e.jsx("button",{onClick:b,className:`p-2.5 rounded-xl border border-gray-200 text-gray-500 hover:bg-gray-50 ${v?"":"opacity-50 cursor-not-allowed"}`,title:v?"Sync data from page":"Auto-sync unavailable. Please enter data manually for this site.",disabled:!v,children:r?e.jsxs("svg",{className:"animate-spin h-5 w-5 text-prop-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.667 0l3.181-3.183m-4.991-2.691V5.25a3.375 3.375 0 00-3.375-3.375H8.25a3.375 3.375 0 00-3.375 3.375v5.25m-4.991 2.691l3.181-3.183a8.25 8.25 0 0111.667 0l3.181 3.183"})})}),e.jsxs("button",{onClick:I,className:"flex-1 py-2.5 rounded-xl text-sm font-bold shadow-lg transition-all flex justify-center items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-purple-200",children:["Save Deal",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})})]})]})]}),e.jsx(le,{isOpen:!!g,onClose:()=>i(null),title:_(),children:M()})]})}const fe=Q.createContext();function ve({children:n}){const[a,r]=N.useState(null),[o,c]=N.useState(!0);function m(b,l){return re(A,b,l)}function g(b,l){return ae(A,b,l)}function i(){const b=new se;return ne(A,b)}function s(b){const l={url:`${window.location.origin}/finish-auth.html`,handleCodeInApp:!0};return te(A,b,l)}function x(){return ee(A)}N.useEffect(()=>X(A,l=>{r(l),c(!1)}),[]);const v={currentUser:a,register:m,login:g,signInWithGoogle:i,sendSignInLink:s,logout:x};return e.jsx(fe.Provider,{value:v,children:!o&&n})}const ye=N.createContext(),je=({children:n})=>{const[a,r]=N.useState(!1),[o,c]=N.useState(""),i={isWaitlistModalOpen:a,featureName:o,openWaitlistModal:s=>{c(s),r(!0)},closeWaitlistModal:()=>{r(!1),c("")}};return e.jsx(ye.Provider,{value:i,children:n})},Ne=document.getElementById("root"),we=oe(Ne);we.render(e.jsx(ve,{children:e.jsx(je,{children:e.jsx(be,{})})}));
